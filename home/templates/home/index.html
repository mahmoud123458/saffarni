{% extends 'base.html' %}
{% load bootstrap4 %}
{% load static %}
  {% block content %}
  <style>
    .travel .box .package .time {
      position: relative;
      display: flex;
      align-items: center;
      margin: auto;
      height: 40px;
      width: max-content;
      background-color: #fff;
      border: #1bbc9c40 1px solid;
      bottom: 25px;
      border-radius: var(--br-5);
  }
  .travel .box .package .time span{
      font-size: 15px;
      margin-right: 140px;
  }
  .travel .box .package .time i{
      color : var(--main-color);
      padding: 0 10px;
  }
  .travel .box .package .time i:hover{
      cursor: pointer;
      transform: scale(1.2);
      color: #008f96e3;
  }
  .travel .box .package .text{
      padding: 0 20px 20px;
      position: relative;
  }
  .travel .box .package .text h3{
      margin: 0;
  }
  .travel .box .package .text .location,
  .travel .box .package .text .continent,
  .travel .box .package .text .ticket,
  .travel .box .package .text .calendar{
      padding-left: 30px;
      font-size: 17px;
      user-select: none;
  }
  .travel .box .package .text .location::before,
  .travel .box .package .text .continent::before,
  .travel .box .package .text .ticket::before,
  .travel .box .package .text .calendar::before{
      left: 20px;
  }
  .travel .box .package .text .description{
      border-top: 1px solid #ebebeb;
      border-bottom: 1px solid #ebebeb;
      padding: 20px 0;
      font-size: 17px;
      color: var(--clr909090);
  }
  .travel .box .package .price{
      display: flex;
      align-items: center;
      justify-content: space-between;
  }
  .travel .box .package .price p{
      font-weight: bold;
      font-size: 20px;
  }
  .travel .box .package .price p span{
      text-decoration: line-through;
      font-size: 14px;
      color: #999;
  }
  .travel .box .package .price p strike{
      font-size: 12px;
  }
  .landing{
    position: relative;
}

.landing::before{
    content: '';
    position: absolute;
    background-color: var(--section-background);
    background-image: url({% static 'images/earth.png' %});
    background-size: cover;
    width: 100%;
    height: calc(100vh - 100px);
    margin-top: 20px;
    opacity: .2;
    z-index: -2;
}
.landing .container{
    min-height: calc(100vh - 72px);
    display: flex;
    align-items: center;
    padding-bottom: 120px;
    justify-content: space-between;
    gap: 30px;
}
.landing .container .text{
    flex: 1;
}
.landing .container .text h1{
    margin: 0;
    letter-spacing: -2;
    font-size: 50px;
}
.landing .container .text h1 span{
    text-decoration: underline #ffd205;
}
.landing .container .image{
    position: relative;
    width: 320px;
    height: 520px;
}
.landing .container .image img{
    width: 100%;
    height: 100%;
    -webkit-border-radius: 160px;
    -moz-border-radius: 160px;
    -ms-border-radius: 160px;
    -o-border-radius: 160px;
    border-radius: 160px;
}
.landing .container .img-up{
    top: 20px;
}
.landing .container .img-down{
    top: 120px;
}
@media(max-width: 768px){
    .landing .container .img-down{
        display: none;
    }
}
@media(max-width: 640px){
    .landing .container .img-up {
        display: none;
    }
}
.landing .container .go-down{
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    color: var(--main-color);
    transition: var(--main-transition);
}
.landing .go-down:hover{
    color: #46f9f3;
}
.landing .go-down i{
    -webkit-animation: bouncing 1.7s infinite;
    animation: bouncing 1.7s infinite;
}
</style>
    <!-- Start Landing -->
    <div class="landing">
      <div class="img_bg">
        <div class="container">
          <div class="text">
            <h1><span>Adventure</span> & Experience The Travel!</h1>
          </div>
          <div class="image img-up">
            <img src="{% static 'images/land-1.jpg' %}" alt="landing" />
          </div>
          <div class="image img-down">
            <img src="{% static 'images/land-3.jpeg' %}" alt="landing" />
          </div>
          <a href="#travel" class="go-down" title="go-down">
            <i class="fa-solid fa-angles-down fa-xl"></i>
          </a>
        </div>
      </div>
    </div>
    <!-- End Landing -->

    <!-- Start Traveling -->
    <div class="travel" id="travel">
      <h2 class="main-title">travel</h2>
      <div class="container">
        <div class="textures">
          <div class="text">
            <h4>Dream Vacation Destination</h4>
            <h1>Plan the Trip of a Lifetime with Ease</h1>
            <p>
              Whether you're looking for a romantic getaway, a family-friendly
              adventure, or a solo journey to explore the world, a travel agency
              can provide you with a custom-tailored itinerary that exceeds your
              expectations.
            </p>
            <a href="{% url "about" %}" class="btn">More Info</a>
          </div>
        </div>

        <!-- Box banner -->
        <div class="box">
          <div class="banner">
            <img src="{% static './images/c-icon-visual-01.gif' %}" class="gif" alt="" />
            <p>City Walks Tour</p>
            <img src="{% static './images/d-banner-01.jpeg' %}" alt="banner-1" />
          </div>
          <div class="banner">
            <img src="{% static './images/c-icon-visual-02.gif' %}" class="gif" alt="" />
            <p>Electric Bikes</p>
            <img src="{% static './images/d-banner-02.jpeg' %}" alt="banner-2" />
          </div>
          <div class="banner">
            <img src="{% static './images/c-icon-visual-03.gif' %}" class="gif" alt="" />
            <p>Skyscrapers View</p>
            <img src="{% static './images/d-banner-03.jpeg' %}" alt="banner-3" />
          </div>
        </div>

        <div class="box">
          {% for place in places %}
          {% if place.id < 4 %}
          <div class="package box-1">
            <a href="{% url 'detail' slug=place.slug %}">
            <div class="image">
              <img src="{{place.image.url}}" alt="" />
            </div>
          </a>
            <div class="time">
              <i class="fa-sharp fa-solid fa-clock fa-xs"></i>
              <span>{{place.duration}} {{place.period}}</span>
              <i
                class="fa-solid fa-envelope fa-xs"
                onClick="showFormRequest()"
              ></i>
              <a href="#" title="map"
                ><i class="fa-solid fa-map-location-dot fa-xs"></i
              ></a>
            </div>
            <div class="text">
              <h3>{{place.city}}</h3>
              <!-- city name -->
              <p class="location">{{place.country}}</p>
               <!-- continent name -->
               <p><i class="fa-solid fa-earth-africa" style="color: var(--main-color)"></i> {{place.continent}}</p>
              
               <p class="ticket" title="Ticket">{{place.flight_class}}</p>
               <!-- Time -->
               <p class="calendar" title="Take-off time">{{place.date|date:"d-m-Y"}}</p>
   
              <!-- country name -->
              <p class="description">
                {{place.description}}
              </p>
              <div class="price">
                <a href="{% url 'detail' slug=place.slug %}">
                <button class="btn">Details</button>
              </a>
              {% if place.discount %}
                <p>EGP {{place.price}} <span>EGP {{place.discount}}</span></p>
              {% else %}
              <p>EGP {{place.price}}</p>
              {% endif %}
              </div>
            </div>
          </div>
          {% endif %}
          {% endfor %}
        </div>

        <div class="request">
          <i class="fas fa-times" onclick="hideRequest()"></i>
          <h3>Pre Sales Request</h3>
          <p>Fill free to contact us for any additional information</p>
          <form action="">
            <input
              type="text"
              readonly
              class="readonly"
              placeholder="ID: 152"
              readonly
            />
            <input
              type="text"
              placeholder="Enter your name"
              autofocus
              required
            />
            <input type="text" placeholder="Enter your surname" />
            <input type="email" placeholder="Enter your email" required />
            <input
              type="number"
              placeholder="Enter your phone"
              min="0"
              required
            />
            <input type="date" placeholder="mm/dd/yyyy" />
            <input
              type="number"
              placeholder="Enter number guests"
              min="0"
              required
            />
            <textarea
              type="text"
              rows="4"
              placeholder="Your Message..."
            ></textarea>
            <input type="submit" value="Submit" class="btn" />
          </form>
        </div>
      </div>
    </div>
    <!-- End Traveling -->

    <!-- Start Book -->
    <div class="book" id="book">
      <h2 class="main-title">Book</h2>
      <div class="container">
        <h4>Choose your Trip</h4>
        <h1>Start your Vacation Now</h1>
        <p>
          Looking for your dream vacation destination but don't know where to
          start? With the help of experienced and knowledgeable travel agents,
          you can plan the trip of a lifetime with ease.
        </p>
      
      <div class="search">
        <form action="{% url 'search_flights' %}" method="POST">
          {% csrf_token %}
          <!-- Start Source -->
          <div class="source">
              <i class="fa-solid fa-plane-departure"></i>
              <input list="source" name="source" placeholder="    القيام"  />
              <datalist id="source">
                  <option value="Egypt"></option>
                  <option value="Cairo International Airport"></option>
              </datalist>
          </div>
      
          <!-- Start Destination -->
          {% comment %} <div class="dest">
              <i class="fa-solid fa-plane-departure"></i>
              <select name="destination" required>
                  <option value="" selected disabled hidden>Choose destination</option>
                  {% for country in countries %}
                  <option value="{{ country.country }}">{{ country.country }}</option>
                  {% endfor %}
              </select>
          </div> {% endcomment %}
<!-- Start Destination -->
          <div class="dest">
            <i class="fa-solid fa-plane-arrival"></i>
            <input list="destination" name="destination" placeholder="    الوصول" required />
            <datalist id="destination">
              <optgroup label="Africa">
                <option value="Algeria">Algeria</option>
                <option value="Morocco">Morocco</option>
                <option value="Tunisia">Tunisia</option>
                <option value="South Africa">South Africa</option>
              </optgroup>
              <optgroup value="Asia">
                <option value="The UAE">The UAE</option>
                <option value="Saudi Arabia">Saudi Arabia</option>
                <option value="Qatar">Qatar</option>
                <option value="Japan">Japan</option>
                <option value="China">China</option>
              </optgroup>
              <optgroup label="Europe">
                <option value="France">France</option>
                <option value="Germany">Germany</option>
                <option value="Greece">Greece</option>
                <option value="Spain">Spain</option>
                <option value="Italy">Italy</option>
              </optgroup>
              <optgroup label="America">
                <option value="USA">USA</option>
                <option value="Mexico">Mexico</option>
                <option value="Argentina">Argentina</option>
              </optgroup>
            </datalist>
          </div>      
          <!-- Start Date -->
          <div class="date">
              <i class=" fa-solid fa-calendar-days"></i>
              <input id="date" type="date" tooltip="Today" from="today" name="date"  />
          </div>
      
          <!-- Start Class -->
          <div class="class">
              <i class="fa-solid fa-list-ul"></i>
              <input list="economicClass" name="class" placeholder="    نوع التذكرة"  />
              <datalist id="economicClass">
                  <option value="FirstClass"></option>
                  <option value="BusnissClass"></option>
                  <option value="PremiumClass"></option>
                  <option value="EconomyClass"></option>
              </datalist>
          </div>
          <button type="submit" class="btn">بحث</button>
      </form>
      
        </div>
      
      </div>
    </div>
    <!-- End Book -->

    <!-- Start Travel Destinations -->
    <div class="spikes">
      <div class="travelDestinations">
        <div class="container">
          <div class="text">
            <h4>Next Adventure</h4>
            <h1>Travel Destinations Available Worldwide</h1>
            <p>
              We have compiled a list of top destinations across the globe,
              scoured the world for the most alluring and fascinating places to
              visit. From the beautifulttttttt beaches of the Caribbean to the majestic
              mountains of Europe and the vibrant cities of Asia, our
              destination list has something for everyone.
            </p>
          </div>
         
          <div class="cards">
            {% for continent in continents %}
            <div class="card card{{ forloop.counter }}">
              <div class="info">
                <h3>{{ continent.name }}</h3>
                <style>
                  .travelDestinations .cards .card{{ forloop.counter }} {
                    background-image: url("{{ continent.photo.url }}");
                  }
                </style>
                <p>انطلق في رحلتك لاستكشاف العالم</p>
                <button class="btn"><a href="{% url 'home' %}?continent={{ continent.name }}">جميع الرحلات</a></button>
              </div>
            </div>
            {% endfor %}
          </div>
          
        </div>
      </div>
    </div>
    <!-- End Travel Destinations -->
        </div>
      </div>
    </div>
    <!-- End Travel Destinations -->
<!-- Start Stats -->
<div class="stats">
  <h2>Our Awesome Stats</h2>
  <div class="container">
    <div class="box">
      <i class="far fa-user fa-2x fa-fw"></i>
      <span class="number" data-goal="500">500</span>
      <span class="text">Passenger</span>
    </div>
    <div class="box">
      <i class="fa-solid fa-plane fa-2x fa-fw" aria-hidden="true"></i>
      <span class="number" data-goal="200">{{places.count}}</span>
      <span class="text">Flights</span>
    </div>
    <div class="box">
      <i class="fa-solid fa-hotel fa-2x fa-fw"></i>
      <span class="number" data-goal="120">{{hotels|length}}</span>
      <span class="text">Hotels</span>
    </div>
    <div class="box">
      <i class="fa-solid fa-earth-africa fa-2x fa-fw"></i>
      <span class="number" data-goal="500">{{countries.count}}</span>
      <span class="text">Countries</span>
    </div>
  </div>

</div>
<!-- End Stats -->

    <script>
      document.getElementById('destination-select').addEventListener('change', function() {
        var selectedCountry = this.value;
        document.getElementById('destination-input').value = selectedCountry;
      });
    </script>


    
   {% endblock content %}